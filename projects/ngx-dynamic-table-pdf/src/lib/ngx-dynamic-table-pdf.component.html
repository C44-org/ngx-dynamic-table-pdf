<button class="w-12 h-12 p-2 m-2 bg-primary text-dark rounded-lg" (click)="settingsDrawer.toggle()">
    <table-icons class="w-8 h-8 stroke-1 stroke-current" name="pdf-document"></table-icons>
</button>

<drawer class="w-screen min-w-screen sm:w-96 sm:min-w-96 z-110" fixed [mode]="'over'" [name]="'pdfPrint'" [position]="'right'" #settingsDrawer>
    <div class="flex flex-col w-full overflow-auto bg-primary border-l border-borderline">
        <header class="h-16 mx-4 flex items-center justify-between content-center border-b border-borderline text-dark">
            <!-- <button class="sm:w-0 w-8 h-8 focus:outline-none cursor-pointer" (click)="settingsDrawer.close()">
                <icons class="stroke-1 stroke-current" name="arrow-left"></icons>
            </button> -->
            <div class="w-8 h-8">
                <table-icons class="stroke-1 stroke-current" name="pdf-document"></table-icons>
            </div>
            <span class="ml-3 text-2xl font-semibold">
                Einstellungen
            </span>
            <button class="w-8 h-8 focus:outline-none cursor-pointer" (click)="settingsDrawer.close()">
                <table-icons class="stroke-1 stroke-current" name="x"></table-icons>
            </button>
        </header>
        <div class="mx-4 mt-8 flex-1">
            <h2 class="my-2 text-lg">Filter:</h2>
            <div class="w-10 h-10 p-1 bg-white rounded-lg cursor-pointer" (click)="addFilter()">
                <table-icons name="add"></table-icons>
            </div>
            <h2 class="my-2 text-lg">Spalten ausw√§hlen:</h2>
            <table mat-table [dataSource]="dataSource" matSort>
                <ng-container matColumnDef="checkbox">
                    <th mat-header-cell *matHeaderCellDef>
                        <div class="p-2">
                            <div class="w-5 h-5 bg-light rounded-sm" (click)="checkAll()">
                                <input type="checkbox" class="w-full h-full focus:outline-none cursor-pointer" [checked]="isAllChecked()" />
                            </div>
                        </div>
                    </th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="p-2">
                            <div class="w-5 h-5 bg-light rounded-sm" (click)="check(element)">
                                <input type="checkbox" class="w-full h-full focus:outline-none cursor-pointer" [checked]="element['checked']"/>
                            </div>
                        </div>
                    </td>
                </ng-container>
                <!-- <ng-container matColumnDef="sortrow">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>T</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="absolute h-6 w-6 -my-3 opacity-0 bg-tertiary text-borderline group-hover:opacity-100 transition-opacity ease-in-out duration-500 cursor-grab">
                            <table-icons class="stroke-1 stroke-current" name="grip-vertical"></table-icons>
                        </div>
                    </td>
                </ng-container> -->
                
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> id </th>
                    <td mat-cell *matCellDef="let element">{{ element.name }}</td>
                </ng-container>
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name <span>
                        <div class="ml-1 h-4 w-4 text-accent">
                            <table-icons class="stroke-1" name="pencle"></table-icons>
                        </div>
                    </span></th>
                    <td mat-cell *matCellDef="let element">
                        <input type="text" [value]="element.name" class="w-full py-1 rounded focus:outline-none focus:bg-gray-100 focus:shadow-inner text-sm font-medium leading-none disabled:pointer-events-none" />
                    </td>
                </ng-container>
                <ng-container matColumnDef="color">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        <div class="absolute h-8 w-8 text-accent">
                            <table-icons class="stroke-1" name="abc"></table-icons>
                        </div>
                    </th>
                    <td mat-cell *matCellDef="let element">
                        <input type="color" id="abc" name="abc" [value]="element.color" (change)="changeColor(element, col.value)" #col />
                    </td>
                </ng-container>
                <ng-container matColumnDef="sort">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        <div class="absolute h-6 w-6 text-black">
                            <table-icons class="stroke-1" name="arrow-sort"></table-icons>
                        </div>
                    </th>
                    <td mat-cell *matCellDef="let element">
                        <span class="sr-only">{{ element.sort }}</span>
                        <div class="absolute h-6 w-6 -my-3 text-black cursor-grab">
                            <table-icons class="stroke-1 stroke-current" name="grip-vertical"></table-icons>
                        </div>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="['checkbox', 'name', 'color', 'sort']; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: ['checkbox', 'name', 'color', 'sort'];" class="group"></tr>
            </table>
        </div>
        <footer class="flex flex-none h-16 w-full py-2 px-4 justify-between bg-secondary border-t border-borderline">
            <ng-container *ngTemplateOutlet="toolbar"></ng-container>
        </footer>
    </div>
</drawer>

<ng-template #toolbar>
    <button (click)="settingsDrawer.close()" type="button" class="p-2 mr-3 bg-gray-800 text-white rounded">Abbrechen</button>
    <!-- <button (click)="print()" type="button" class="p-2 mr-3 bg-gray-800 text-black text-white rounded">PDF erstellen</button> -->
    <div class="flex flex-row divide-x p-2 w-48 items-center justify-between bg-gray-800 text-white rounded cursor-pointer">
        <span>Create PDF</span>
        <div class="ml-2 pl-2 w-10 h-8 text-white" (click)="open()">
            <table-icons class="w-8 h-8" name="file-stack"></table-icons>
        </div>
        <div class="ml-2 pl-2 w-10 h-8 text-white" (click)="print()">
            <table-icons class="w-8 h-8" name="file-download"></table-icons>
        </div>
    </div>
</ng-template>